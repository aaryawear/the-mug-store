<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Order Received</title>

<style>
body{
  margin:0;background:#f8fafc;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;color:#111827
}
.wrap{max-width:420px;margin:auto;padding:16px}
.card{
  background:#fff;border-radius:16px;padding:22px;box-shadow:0 10px 30px rgba(0,0,0,.06);text-align:center
}
h1{font-size:22px;margin:8px 0}
p{font-size:14px;color:#374151}
.badge{
  display:inline-block;background:#ecfdf5;color:#065f46;font-size:12px;padding:6px 10px;border-radius:999px;margin:10px 0
}
.order{font-size:13px;color:#6b7280;margin-bottom:12px}
.btn{
  width:100%;padding:14px;border-radius:12px;border:none;background:#000;color:#fff;font-weight:700;font-size:15px;margin-top:10px
}
.btn.secondary{
  background:#fff;color:#000;border:1px solid #e5e7eb
}
.small{font-size:12px;color:#6b7280;margin-top:8px}
</style>
</head>

<body>

<div class="wrap">
  <div class="card">

    <div class="badge" id="statusBadge">‚úÖ Order Received</div>

    <h1>Thank you!</h1>

    <p class="order">Order ID: <b id="orderId"></b></p>

    <p id="message">
      We‚Äôve received your order. If you paid via UPI, we‚Äôll verify and process it shortly.
    </p>

    <button class="btn" id="waBtn">Confirm on WhatsApp</button>

    <button class="btn secondary" onclick="downloadVCF()">Save Support Contact</button>

    <p class="small">
      üì¶ Fast dispatch ‚Ä¢ üì≤ WhatsApp support ‚Ä¢ üîÅ Easy assistance if any issue
    </p>

  </div>
</div>

<!-- ================= CONFIG (CHANGE PER STORE) ================= -->
<script>
const STORE_NAME = "Kunal Store";
const SUPPORT_PHONE = "917381749483"; // with country code, no +
</script>

<script>
const params = new URLSearchParams(location.search);
const orderId = params.get("orderId") || "N/A";
const isCOD = params.get("cod") === "1";

document.getElementById("orderId").innerText = orderId;

const badge = document.getElementById("statusBadge");
const msg = document.getElementById("message");

if(isCOD){
  badge.innerText = "üßæ COD Order Placed";
  msg.innerText =
    "Your Cash on Delivery order has been placed. Our team may call you to confirm before dispatch.";
}else{
  badge.innerText = "üí≥ Payment Processing";
  msg.innerText =
    "If you paid via UPI, your payment is being verified. Your order will be processed shortly.";
}

/* WhatsApp confirmation */
document.getElementById("waBtn").onclick = () => {
  const text =
`Hello ${STORE_NAME},

I have placed an order.

Order ID: ${orderId}
Payment: ${isCOD ? "Cash on Delivery" : "UPI"}

Please confirm. Thank you.`;

  window.open(
    "https://wa.me/" + SUPPORT_PHONE + "?text=" + encodeURIComponent(text),
    "_blank"
  );
};

/* Save Contact (VCF) */
function downloadVCF(){
  const vcf =
`BEGIN:VCARD
VERSION:3.0
N:${STORE_NAME};Support;;;
FN:${STORE_NAME} Support
TEL;TYPE=CELL:${SUPPORT_PHONE}
END:VCARD`;

  const blob = new Blob([vcf], { type: "text/vcard" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = `${STORE_NAME.replace(/\s+/g,'_')}_Support.vcf`;
  a.click();
  URL.revokeObjectURL(url);
}
</script>

</body>
</html>
